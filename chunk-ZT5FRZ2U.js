import{a as R}from"./chunk-MHLWJMVG.js";import{h as A,j as I,k as F,l as j}from"./chunk-4OQCCSJR.js";import"./chunk-NGIY3FYG.js";import{m as V}from"./chunk-CBF5JCVE.js";import{o as L,t as T}from"./chunk-YIKHP2JD.js";import{$ as b,$a as S,Da as d,Qa as x,Ua as h,X as g,Ya as M,_a as y,ab as i,bb as c,ca as v,cb as O,db as P,eb as m,fb as p,ia as l,ja as u,ob as a,pb as f,qb as w,sb as k,vb as D,wb as E}from"./chunk-FMHGYVMK.js";import{c as C}from"./chunk-2VMXMS7J.js";var $=(()=>{class e{transform(t,n=250,o="..."){return t.length>n?t.substring(0,n)+o:t}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=v({name:"seeAll",type:e,pure:!0,standalone:!0})}return e})();var B=(e,s)=>s.id;function G(e,s){if(e&1){let t=P();i(0,"div",0)(1,"h3"),a(2,"Products"),c(),i(3,"button",3),m("click",function(){l(t);let o=p();return u(o.openAddModal())}),a(4," Add new product "),c()()}}function N(e,s){e&1&&O(0,"lib-grid-skelton")}function Y(e,s){if(e&1){let t=P();i(0,"div",6),m("click",function(){let o=l(t).$implicit,r=p(2);return u(r.goToDetails(o))}),i(1,"div",7)(2,"div",8),O(3,"img",9),c(),i(4,"div",10)(5,"h4"),a(6),c(),i(7,"span"),a(8),c(),i(9,"p"),a(10),D(11,"seeAll"),c(),i(12,"div",11)(13,"div",12),a(14),c(),i(15,"i",13),m("click",function(o){let r=l(t).$implicit,_=p(2);return u(_.openEditModal(o,r))}),c(),i(16,"i",14),m("click",function(o){let r=l(t).$implicit,_=p(2);return u(_.openConfirmDeleteModel(o,r.id))}),c()()()()()}if(e&2){let t=s.$implicit;d(3),h("ngSrc",t.image),d(3),f(t.title),d(2),f(t.category),d(2),f(E(11,5,t.description)),d(4),w("",t.price,"$")}}function q(e,s){if(e&1){let t=P();i(0,"lib-empty-screen")(1,"div",15)(2,"button",16),m("click",function(){l(t);let o=p(2);return u(o.openAddModal())}),a(3," Add new product "),c()()()}}function H(e,s){if(e&1&&(i(0,"div",2)(1,"div",4),y(2,Y,17,7,"div",5,B,!1,q,4,0,"lib-empty-screen"),c()()),e&2){let t=p();d(2),S(t.products())}}var it=(()=>{class e{productService=g(R);toastService=g(A);confirmationDeleteService=g(I);router=g(V);isLoading=this.productService.isLoading;products=this.productService.products;sub;ngOnInit(){this.sub=this.productService.fetchProducts().subscribe()}openAddModal(){return C(this,null,function*(){let n=(yield this.productService.openDialog()).closed.subscribe({next:o=>{},complete:()=>{}});this.sub?.add(n)})}goToDetails(t){this.productService.selectProduct(t.id),this.router.navigate(["products",t.id,"detail"])}openConfirmDeleteModel(t,n){return C(this,null,function*(){t.stopImmediatePropagation();let o=yield this.confirmationDeleteService.openConfirmDeleteDialog();o.componentInstance.title="Delete Product",o.componentInstance.desc="Are you sure you want to delete this product?",o.closed.subscribe(r=>{r&&this.deleteProduct(n)})})}deleteProduct(t){let n=this.productService.deleteProduct(t).subscribe(()=>{this.toastService.success("Product deleted successfully"),n.unsubscribe()})}openEditModal(t,n){return C(this,null,function*(){t.stopImmediatePropagation();let r=(yield this.productService.openDialog(n)).closed.subscribe({next:_=>{},complete:()=>{}})})}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=b({type:e,selectors:[["app-product-list"]],standalone:!0,features:[k],decls:4,vars:2,consts:[[1,"container","d-flex","justify-content-between","align-items-center","mb-4"],[1,"container"],[1,"container","products"],[1,"btn","btn-primary",3,"click"],[1,"row","gy-4"],[1,"col-lg-6","product-item"],[1,"col-lg-6","product-item",3,"click"],[1,"product","d-flex","align-items-start"],[1,"pic"],["width","150","height","150","alt","product image",1,"img-fluid",3,"ngSrc"],[1,"product-info"],[1,"product-footer","mt-auto","align-self-start","d-flex","w-100"],[1,"badge","bg-secondary"],[1,"bi","bi-pencil","cursor-pointer","text-primary","ms-auto","icon",3,"click"],[1,"bi","bi-trash3","ms-3","cursor-pointer","text-danger","icon",3,"click"],[1,"action-buttons"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,o){n&1&&(x(0,G,5,0,"div",0),i(1,"div",1),x(2,N,1,0,"lib-grid-skelton")(3,H,5,1,"div",2),c()),n&2&&(M(o.products().length?0:-1),d(2),M(o.isLoading()?2:3))},dependencies:[L,T,$,F,j],styles:['.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{background-color:var(--surface-color);box-shadow:0 2px 15px #0000001a;position:relative;border-radius:5px;transition:.5s;padding:30px;height:100%}.product-item[_ngcontent-%COMP%]{cursor:pointer}.product-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:none}.product-item[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{flex-direction:column;justify-content:center!important;align-items:center!important}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{overflow:hidden;flex-shrink:0}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:ease-in-out .3s}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:30px;height:100%;gap:6px;width:100%}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{padding:30px 0 0;text-align:center}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;font-size:20px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:15px;padding-bottom:10px;position:relative;font-weight:500}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:50px;height:1px;background:color-mix(in srgb,var(--default-color),transparent 85%);bottom:0;left:0}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:calc(50% - 25px)}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{margin-top:12px;display:flex;align-items:center;justify-content:start;width:100%}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{justify-content:center}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--default-color),transparent 94%);transition:ease-in-out .3s;display:flex;align-items:center;justify-content:center;border-radius:50px;width:36px;height:36px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--default-color),transparent 20%);font-size:16px;margin:0 2px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--accent-color)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--contrast-color)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:8px}'],changeDetection:0})}return e})();export{it as ProductListComponent};
