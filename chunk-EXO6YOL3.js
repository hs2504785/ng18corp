import{c as g,f as F,g as L,h as T}from"./chunk-4OQCCSJR.js";import{b as u,d as v,e as S,g as h,k as C,l as _,m as y}from"./chunk-NGIY3FYG.js";import"./chunk-CBF5JCVE.js";import{o as b}from"./chunk-YIKHP2JD.js";import{$ as p,Da as o,Ua as r,X as i,ab as t,bb as n,cb as l,eb as c,ob as d,sb as f}from"./chunk-FMHGYVMK.js";import"./chunk-2VMXMS7J.js";var P=(()=>{class m{activeDialog=i(y);toastService=i(T);authService=i(g);fb=i(C);form;isSubmitting=!1;constructor(){this.createForm()}createForm(){this.form=this.fb.group({username:["",[u.required]],password:["",[u.required]]})}onFormSubmit(){this.authService.login(this.form.value).subscribe({next:a=>{this.toastService.success("Login successful"),this.activeDialog.close()},error:a=>{this.toastService.error("Login failed"),console.error(a)}})}static \u0275fac=function(s){return new(s||m)};static \u0275cmp=p({type:m,selectors:[["app-login"]],standalone:!0,features:[f],decls:12,vars:7,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"text-secondary","small","cred"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","loginForm",3,"submit","formGroup"],["controlName","username","label","Username","placeholder","Enter username",1,"d-block","mb-4",3,"control"],["controlName","password","label","Password","placeholder","Enter password",1,"d-block","mb-4",3,"control"],[1,"modal-footer"],["formName","loginForm",3,"isSubmitting","isInvalid","submitText","submitingText"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"h4",1),d(2," User Login "),t(3,"div",2),d(4,"mor_2314/83r5^_"),n()(),t(5,"button",3),c("click",function(){return e.activeDialog.dismiss("Cross click")}),n()(),t(6,"div",4)(7,"form",5),c("submit",function(){return e.onFormSubmit()}),l(8,"lib-textfield",6)(9,"lib-textfield",7),n()(),t(10,"div",8),l(11,"lib-submit",9),n()),s&2&&(o(7),r("formGroup",e.form),o(),r("control",e.form.get("username")),o(),r("control",e.form.get("password")),o(2),r("isSubmitting",e.isSubmitting)("isInvalid",e.form.invalid)("submitText","Login")("submitingText","Logging in..."))},dependencies:[b,F,L,_,S,v,h],styles:[".cred[_ngcontent-%COMP%]{font-size:12px}"],changeDetection:0})}return m})();export{P as LoginComponent};
