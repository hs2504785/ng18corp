import{a as k}from"./chunk-XORBKJTE.js";import{e as T,g as I,h as M,i as P}from"./chunk-QRSMCQQD.js";import"./chunk-HJN4BUQK.js";import"./chunk-6W2YLC2U.js";import{m as w,n as U}from"./chunk-CBF5JCVE.js";import"./chunk-JRYQZHQW.js";import{o as L}from"./chunk-YIKHP2JD.js";import{$ as h,$a as y,Da as a,Qa as u,X as c,Ya as _,_a as g,ab as n,bb as i,cb as b,db as C,eb as S,fb as d,ia as f,ib as E,ja as x,ob as s,pb as m,sb as D}from"./chunk-FMHGYVMK.js";import{c as p}from"./chunk-2VMXMS7J.js";var A=(t,l)=>l.id;function V(t,l){if(t&1){let e=C();n(0,"div",0)(1,"h3"),s(2,"Users"),i(),n(3,"button",2),S("click",function(){f(e);let r=d();return x(r.openAddModal())}),s(4,"Add new user"),i()()}}function F(t,l){t&1&&b(0,"lib-grid-skelton")}function j(t,l){if(t&1&&(n(0,"tr")(1,"th",5),s(2),i(),n(3,"td")(4,"a",6),s(5),i()(),n(6,"td"),s(7),i(),n(8,"td"),s(9),i(),n(10,"td",7),b(11,"i",8)(12,"i",9),i()()),t&2){let e=l.$implicit;a(2),m(e.id),a(2),E("routerLink","/users/",e.id,"/detail"),a(),m(e.username),a(2),m(e.email),a(2),m(e.phone)}}function O(t,l){if(t&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),s(4,"User ID"),i(),n(5,"th",4),s(6,"Username"),i(),n(7,"th",4),s(8,"Email"),i(),n(9,"th",4),s(10,"Phone"),i(),b(11,"th",4),i()(),n(12,"tbody"),g(13,j,13,6,"tr",null,A),i()()),t&2){let e=d(2);a(13),y(e.users())}}function $(t,l){if(t&1){let e=C();n(0,"lib-empty-screen")(1,"div",10)(2,"button",11),S("click",function(){f(e);let r=d(2);return x(r.openAddModal())}),s(3," Add new user "),i()()()}}function G(t,l){if(t&1&&(n(0,"div",1),u(1,O,15,0,"table",3)(2,$,4,0,"lib-empty-screen"),i()),t&2){let e=d();a(),_(e.users().length?1:2)}}var W=(()=>{class t{userService=c(k);toastService=c(T);confirmationDeleteService=c(I);router=c(w);isLoading=this.userService.isLoading;users=this.userService.users;sub;ngOnInit(){this.sub=this.userService.fetchUsers().subscribe()}openAddModal(){return p(this,null,function*(){let o=(yield this.userService.openDialog()).closed.subscribe({next:r=>{},complete:()=>{}});this.sub?.add(o)})}goToDetails(e){}openConfirmDeleteModel(e,o){return p(this,null,function*(){e.stopImmediatePropagation();let r=yield this.confirmationDeleteService.openConfirmDeleteDialog();r.componentInstance.title="Delete Product",r.componentInstance.desc="Are you sure you want to delete this product?",r.closed.subscribe(v=>{v&&this.deleteProduct(o)})})}deleteProduct(e){let o=this.userService.deleteProduct(e).subscribe(()=>{this.toastService.success("Product deleted successfully"),o.unsubscribe()})}openEditModal(e,o){return p(this,null,function*(){e.stopImmediatePropagation();let v=(yield this.userService.openDialog(o)).closed.subscribe({next:R=>{},complete:()=>{}})})}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=h({type:t,selectors:[["app-user-list"]],standalone:!0,features:[D],decls:4,vars:2,consts:[[1,"container","d-flex","justify-content-between","align-items-center","mb-4"],[1,"container"],[1,"btn","btn-primary",3,"click"],[1,"table","table-responsive"],["scope","col"],["scope","row"],[1,"btn","btn-link","btn-sm",3,"routerLink"],[1,"action-icons"],[1,"bi","bi-pencil","cursor-pointer","text-primary"],[1,"bi","bi-trash3","ms-3","cursor-pointer","text-danger"],[1,"action-buttons"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,r){o&1&&(u(0,V,5,0,"div",0),n(1,"div",1),u(2,F,1,0,"lib-grid-skelton")(3,G,3,1,"div",1),i()),o&2&&(_(r.users().length?0:-1),a(2),_(r.isLoading()?2:3))},dependencies:[L,M,U,P],changeDetection:0})}return t})();export{W as UserListComponent};
