import{e as A,g as F,h as V}from"./chunk-F34DFAI6.js";import"./chunk-PANBUPWO.js";import{a as j}from"./chunk-5PCEQGCK.js";import"./chunk-TUTJMOXM.js";import{m as I}from"./chunk-TWRZ4ET5.js";import{$a as i,Da as d,Pa as O,Ta as v,Xa as b,Xb as T,Za as h,_ as l,_a as S,ab as c,ac as L,bb as f,c as g,ca as x,cb as y,db as u,eb as m,fa as M,la as _,ma as C,mb as a,nb as P,ob as w,qb as k,tb as D,ub as E}from"./chunk-REZRTXQ6.js";var R=(()=>{class e{transform(t,n=250,o="..."){return t.length>n?t.substring(0,n)+o:t}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=M({name:"seeAll",type:e,pure:!0,standalone:!0})}return e})();var z=(e,s)=>s.id;function B(e,s){e&1&&f(0,"lib-grid-skelton")}function G(e,s){if(e&1){let t=y();i(0,"div",7),u("click",function(){let o=_(t).$implicit,r=m(2);return C(r.goToDetails(o))}),i(1,"div",8)(2,"div",9),f(3,"img",10),c(),i(4,"div",11)(5,"h4"),a(6),c(),i(7,"span"),a(8),c(),i(9,"p"),a(10),D(11,"seeAll"),c(),i(12,"div",12)(13,"div",13),a(14),c(),i(15,"i",14),u("click",function(o){let r=_(t).$implicit,p=m(2);return C(p.openEditModal(o,r))}),c(),i(16,"i",15),u("click",function(o){let r=_(t).$implicit,p=m(2);return C(p.openConfirmDeleteModel(o,r.id))}),c()()()()()}if(e&2){let t=s.$implicit;d(3),v("ngSrc",t.image),d(3),P(t.title),d(2),P(t.category),d(2),P(E(11,5,t.description)),d(4),w("",t.price,"$")}}function N(e,s){e&1&&(i(0,"div",6),a(1,"There are no items."),c())}function Y(e,s){if(e&1&&(i(0,"div",3)(1,"div",4),h(2,G,17,7,"div",5,z,!1,N,2,0,"div",6),c()()),e&2){let t=m();d(2),S(t.products())}}var nt=(()=>{class e{productService=l(j);toastService=l(A);confirmationDeleteService=l(F);router=l(I);isLoading=this.productService.isLoading;products=this.productService.products;sub;ngOnInit(){this.sub=this.productService.fetchProducts().subscribe()}openAddModal(){return g(this,null,function*(){let n=(yield this.productService.openDialog()).closed.subscribe({next:o=>{},complete:()=>{}});this.sub?.add(n)})}goToDetails(t){this.productService.selectProduct(t.id),this.router.navigate(["products",t.id,"detail"])}openConfirmDeleteModel(t,n){return g(this,null,function*(){t.stopImmediatePropagation();let o=yield this.confirmationDeleteService.openConfirmDeleteDialog();o.componentInstance.title="Delete Product",o.componentInstance.desc="Are you sure you want to delete this product?",o.closed.subscribe(r=>{r&&this.deleteProduct(n)})})}deleteProduct(t){let n=this.productService.deleteProduct(t).subscribe(()=>{this.toastService.success("Product deleted successfully"),n.unsubscribe()})}openEditModal(t,n){return g(this,null,function*(){t.stopImmediatePropagation();let r=(yield this.productService.openDialog(n)).closed.subscribe({next:p=>{},complete:()=>{}})})}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=x({type:e,selectors:[["app-product-list"]],standalone:!0,features:[k],decls:8,vars:1,consts:[[1,"container","d-flex","justify-content-between","align-items-center","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"container"],[1,"container","products"],[1,"row","gy-4"],[1,"col-lg-6","product-item"],[1,"alert","alert-info"],[1,"col-lg-6","product-item",3,"click"],[1,"product","d-flex","align-items-start"],[1,"pic"],["width","150","height","150","alt","product image",1,"img-fluid",3,"ngSrc"],[1,"product-info"],[1,"product-footer","mt-auto","align-self-start","d-flex","w-100"],[1,"badge","bg-secondary"],[1,"bi","bi-pencil","cursor-pointer","text-primary","ms-auto","icon",3,"click"],[1,"bi","bi-trash3","ms-3","cursor-pointer","text-danger","icon",3,"click"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"h3"),a(2,"Products"),c(),i(3,"button",1),u("click",function(){return o.openAddModal()}),a(4," Add new product "),c()(),i(5,"div",2),O(6,B,1,0,"lib-grid-skelton")(7,Y,5,1,"div",3),c()),n&2&&(d(6),b(o.isLoading()?6:7))},dependencies:[T,L,R,V],styles:['.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{background-color:var(--surface-color);box-shadow:0 2px 15px #0000001a;position:relative;border-radius:5px;transition:.5s;padding:30px;height:100%}.product-item[_ngcontent-%COMP%]{cursor:pointer}.product-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:none}.product-item[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{flex-direction:column;justify-content:center!important;align-items:center!important}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{overflow:hidden;flex-shrink:0}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:ease-in-out .3s}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:30px;height:100%;gap:6px;width:100%}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{padding:30px 0 0;text-align:center}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;font-size:20px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:15px;padding-bottom:10px;position:relative;font-weight:500}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:50px;height:1px;background:color-mix(in srgb,var(--default-color),transparent 85%);bottom:0;left:0}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:calc(50% - 25px)}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{margin-top:12px;display:flex;align-items:center;justify-content:start;width:100%}@media (max-width: 468px){.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{justify-content:center}}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--default-color),transparent 94%);transition:ease-in-out .3s;display:flex;align-items:center;justify-content:center;border-radius:50px;width:36px;height:36px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--default-color),transparent 20%);font-size:16px;margin:0 2px}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--accent-color)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--contrast-color)}.products[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:8px}'],changeDetection:0})}return e})();export{nt as ProductListComponent};
